import{S as Me,i as Be,s as qe,D as Je,e as u,c as d,a as f,d as c,b as i,f as q,F as Qe,G as Re,H as Ye,x as Z,u as x,_ as Ke,P as We,k as D,l as oe,I as Xe,n as I,Q as Ze,J as b,j as xe,m as et,o as tt,v as lt,t as $,g as E,E as s,L as He,M as ye,R as at,N as st}from"../../chunks/vendor-35612e70.js";import{g as Le}from"../../chunks/account-a378f0ad.js";import{f as De}from"../../chunks/fetch-1db0cb0a.js";import"../../chunks/db-cdcd9140.js";const nt=["0bd0b4cd-e571-4a96-9b7a-8adcdf7f0200","e2b5c7e3-be95-4f61-a9ec-f296cfa314b7"];function ot(e){let t,l;const a=e[1].default,n=Je(a,e,e[0],null);return{c(){t=u("span"),n&&n.c(),this.h()},l(o){t=d(o,"SPAN",{class:!0});var r=f(t);n&&n.l(r),r.forEach(c),this.h()},h(){i(t,"class","badge svelte-3t1mvb")},m(o,r){q(o,t,r),n&&n.m(t,null),l=!0},p(o,[r]){n&&n.p&&(!l||r&1)&&Qe(n,a,o,o[0],l?Ye(a,o[0],r,null):Re(o[0]),null)},i(o){l||(Z(n,o),l=!0)},o(o){x(n,o),l=!1},d(o){o&&c(t),n&&n.d(o)}}}function rt(e,t,l){let{$$slots:a={},$$scope:n}=t;return e.$$set=o=>{"$$scope"in o&&l(0,n=o.$$scope)},[n,a]}class ct extends Me{constructor(t){super();Be(this,t,rt,ot,qe,{})}}function it(){const e=new Date;return`${e.getUTCFullYear()}-${e.getUTCMonth()}-${e.getUTCDate()} ${e.getUTCHours()}:${e.getUTCMinutes()}:${e.getUTCSeconds()}`}function ut(e){return console.log(e),Ke(e,{objectTime:it(),lang:"ko"})}function dt(e){return(e.match(/\bhttps?:\/\/\S+/gi)||[]).forEach(l=>{e=e.replace(l,`<a href="${l}">${l}</a>`)}),e}function ft(e){return(e.match(/[@]\S+/gi)||[]).forEach(l=>{e=e.replace(l,`<a href="/${l}/gg">${l}</a>`)}),e}function Oe(e,t,l){const a=e.slice();return a[9]=t[l],a[11]=l,a}function _t(e){return{c:b,l:b,m:b,p:b,i:b,o:b,d:b}}function vt(e){let t,l,a,n;const o=[pt,ht],r=[];function v(_,k){return _[8].id===null?0:1}return t=v(e),l=r[t]=o[t](e),{c(){l.c(),a=oe()},l(_){l.l(_),a=oe()},m(_,k){r[t].m(_,k),q(_,a,k),n=!0},p(_,k){l.p(_,k)},i(_){n||(Z(l),n=!0)},o(_){x(l),n=!1},d(_){r[t].d(_),_&&c(a)}}}function ht(e){let t,l,a,n,o=e[8].nickname+"",r,v,_=nt.includes(e[8].id),k,z,g=e[8].about+"",P,H,y,T,N,X,C,m,V,R,j,ee=e[8].follower.length+"",re,ce,L,ie,Y,Ie=e[8].following.length+"",ue,de,O,fe,K,Ve=e[8].data.length+"",_e,ve,G,he,pe,F,M,U,me,J,ke,be,te,ge,Te,S=_&&mt(e),W=e[8].data.reverse(),w=[];for(let h=0;h<W.length;h+=1)w[h]=Ge(Oe(e,W,h));return{c(){t=u("div"),l=u("div"),a=u("div"),n=u("a"),r=$(o),v=D(),S&&S.c(),k=D(),z=u("div"),P=$(g),H=D(),y=u("div"),T=u("div"),N=u("div"),X=$("\uC18C\uAC1C"),C=D(),m=u("div"),V=u("div"),R=$("\uD314\uB85C\uC6CC "),j=u("span"),re=$(ee),ce=D(),L=u("div"),ie=$("\uD314\uB85C\uC789 "),Y=u("span"),ue=$(Ie),de=D(),O=u("div"),fe=$("\uC804\uCCB4 \uAE00 "),K=u("span"),_e=$(Ve),ve=D(),G=u("button"),he=$("Follow"),pe=D(),F=u("div"),M=u("div"),U=u("input"),me=D(),J=u("button"),ke=$("\uAC8C\uC2DC"),be=D();for(let h=0;h<w.length;h+=1)w[h].c();this.h()},l(h){t=d(h,"DIV",{class:!0});var A=f(t);l=d(A,"DIV",{class:!0});var p=f(l);a=d(p,"DIV",{class:!0});var Q=f(a);n=d(Q,"A",{href:!0,class:!0});var Ne=f(n);r=E(Ne,o),Ne.forEach(c),v=I(Q),S&&S.l(Q),Q.forEach(c),k=I(p),z=d(p,"DIV",{class:!0});var Ue=f(z);P=E(Ue,g),Ue.forEach(c),p.forEach(c),H=I(A),y=d(A,"DIV",{class:!0});var le=f(y);T=d(le,"DIV",{class:!0});var ae=f(T);N=d(ae,"DIV",{class:!0});var Se=f(N);X=E(Se,"\uC18C\uAC1C"),Se.forEach(c),C=I(ae),m=d(ae,"DIV",{class:!0});var B=f(m);V=d(B,"DIV",{class:!0});var we=f(V);R=E(we,"\uD314\uB85C\uC6CC "),j=d(we,"SPAN",{class:!0});var Ae=f(j);re=E(Ae,ee),Ae.forEach(c),we.forEach(c),ce=I(B),L=d(B,"DIV",{class:!0});var $e=f(L);ie=E($e,"\uD314\uB85C\uC789 "),Y=d($e,"SPAN",{class:!0});var Pe=f(Y);ue=E(Pe,Ie),Pe.forEach(c),$e.forEach(c),de=I(B),O=d(B,"DIV",{class:!0});var Ee=f(O);fe=E(Ee,"\uC804\uCCB4 \uAE00 "),K=d(Ee,"SPAN",{class:!0});var Ce=f(K);_e=E(Ce,Ve),Ce.forEach(c),Ee.forEach(c),ve=I(B),G=d(B,"BUTTON",{class:!0});var je=f(G);he=E(je,"Follow"),je.forEach(c),B.forEach(c),ae.forEach(c),pe=I(le),F=d(le,"DIV",{class:!0});var se=f(F);M=d(se,"DIV",{class:!0});var ne=f(M);U=d(ne,"INPUT",{type:!0,placeholder:!0,class:!0}),me=I(ne),J=d(ne,"BUTTON",{class:!0});var Fe=f(J);ke=E(Fe,"\uAC8C\uC2DC"),Fe.forEach(c),ne.forEach(c),be=I(se);for(let ze=0;ze<w.length;ze+=1)w[ze].l(se);se.forEach(c),le.forEach(c),A.forEach(c),this.h()},h(){i(n,"href","/@"+e[8].nickname),i(n,"class","no-deco"),i(a,"class","name svelte-1kz8au2"),i(z,"class","about svelte-1kz8au2"),i(l,"class","user svelte-1kz8au2"),i(N,"class","show-title svelte-1kz8au2"),i(j,"class","show-bold svelte-1kz8au2"),i(V,"class","show-follow svelte-1kz8au2"),i(Y,"class","show-bold svelte-1kz8au2"),i(L,"class","show-follow svelte-1kz8au2"),i(K,"class","show-bold svelte-1kz8au2"),i(O,"class","show-follow svelte-1kz8au2"),i(G,"class","show-button svelte-1kz8au2"),i(m,"class","show-content svelte-1kz8au2"),i(T,"class","show svelte-1kz8au2"),i(U,"type","text"),i(U,"placeholder",""+(e[8].nickname+"\uB2D8\uC5D0\uAC8C \uC804\uD558\uACE0 \uC2F6\uC740 \uB9D0\uC744 \uC785\uB825\uD558\uC138\uC694.")),i(U,"class","svelte-1kz8au2"),i(J,"class","svelte-1kz8au2"),i(M,"class","form svelte-1kz8au2"),i(F,"class","post svelte-1kz8au2"),i(y,"class","main-content svelte-1kz8au2"),i(t,"class","user-container svelte-1kz8au2")},m(h,A){q(h,t,A),s(t,l),s(l,a),s(a,n),s(n,r),s(a,v),S&&S.m(a,null),s(l,k),s(l,z),s(z,P),s(t,H),s(t,y),s(y,T),s(T,N),s(N,X),s(T,C),s(T,m),s(m,V),s(V,R),s(V,j),s(j,re),s(m,ce),s(m,L),s(L,ie),s(L,Y),s(Y,ue),s(m,de),s(m,O),s(O,fe),s(O,K),s(K,_e),s(m,ve),s(m,G),s(G,he),s(y,pe),s(y,F),s(F,M),s(M,U),He(U,e[1]),s(M,me),s(M,J),s(J,ke),s(F,be);for(let p=0;p<w.length;p+=1)w[p].m(F,null);te=!0,ge||(Te=[ye(G,"click",e[3]),ye(U,"input",e[5]),ye(J,"click",e[2])],ge=!0)},p(h,A){if(A&2&&U.value!==h[1]&&He(U,h[1]),A&16){W=h[8].data.reverse();let p;for(p=0;p<W.length;p+=1){const Q=Oe(h,W,p);w[p]?w[p].p(Q,A):(w[p]=Ge(Q),w[p].c(),w[p].m(F,null))}for(;p<w.length;p+=1)w[p].d(1);w.length=W.length}},i(h){te||(Z(S),te=!0)},o(h){x(S),te=!1},d(h){h&&c(t),S&&S.d(),at(w,h),ge=!1,st(Te)}}}function pt(e){let t;return{c(){t=$("User Not Found")},l(l){t=E(l,"User Not Found")},m(l,a){q(l,t,a)},p:b,i:b,o:b,d(l){l&&c(t)}}}function mt(e){let t,l;return t=new ct({props:{$$slots:{default:[kt]},$$scope:{ctx:e}}}),{c(){xe(t.$$.fragment)},l(a){et(t.$$.fragment,a)},m(a,n){tt(t,a,n),l=!0},i(a){l||(Z(t.$$.fragment,a),l=!0)},o(a){x(t.$$.fragment,a),l=!1},d(a){lt(t,a)}}}function kt(e){let t;return{c(){t=$("\uC778\uC99D\uB428")},l(l){t=E(l,"\uC778\uC99D\uB428")},m(l,a){q(l,t,a)},d(l){l&&c(t)}}}function Ge(e){let t,l,a,n=e[9].nick+"",o,r,v=" ",_,k,z,g=ut(e[9].time)+"",P,H,y,T=ft(dt(e[9].content))+"",N,X;return{c(){t=u("div"),l=u("div"),a=u("a"),o=$(n),_=$(v),k=D(),z=u("span"),P=$(g),H=D(),y=u("div"),N=D(),this.h()},l(C){t=d(C,"DIV",{class:!0,id:!0});var m=f(t);l=d(m,"DIV",{class:!0});var V=f(l);a=d(V,"A",{href:!0,class:!0});var R=f(a);o=E(R,n),R.forEach(c),_=E(V,v),k=I(V),z=d(V,"SPAN",{class:!0});var j=f(z);P=E(j,g),j.forEach(c),V.forEach(c),H=I(m),y=d(m,"DIV",{class:!0});var ee=f(y);ee.forEach(c),N=I(m),m.forEach(c),this.h()},h(){i(a,"href",r="/@"+e[9].nick+"/gg"),i(a,"class","no-deco"),i(z,"class","time svelte-1kz8au2"),i(l,"class","title svelte-1kz8au2"),i(y,"class","content svelte-1kz8au2"),i(t,"class","card svelte-1kz8au2"),i(t,"id",X="post-"+(e[8].data.length-e[11])+"-"+e[9].nick)},m(C,m){q(C,t,m),s(t,l),s(l,a),s(a,o),s(l,_),s(l,k),s(l,z),s(z,P),s(t,H),s(t,y),y.innerHTML=T,s(t,N)},p:b,d(C){C&&c(t)}}}function bt(e){return{c:b,l:b,m:b,p:b,i:b,o:b,d:b}}function gt(e){let t,l,a,n;document.title=t=""+(e[0]+" - platform");let o={ctx:e,current:null,token:null,hasCatch:!1,pending:bt,then:vt,catch:_t,value:8,blocks:[,,,]};return We(e[4],o),{c(){l=D(),a=oe(),o.block.c()},l(r){Xe('[data-svelte="svelte-148hq9r"]',document.head).forEach(c),l=I(r),a=oe(),o.block.l(r)},m(r,v){q(r,l,v),q(r,a,v),o.block.m(r,o.anchor=v),o.mount=()=>a.parentNode,o.anchor=a,n=!0},p(r,[v]){e=r,(!n||v&1)&&t!==(t=""+(e[0]+" - platform"))&&(document.title=t),Ze(o,e,v)},i(r){n||(Z(o.block),n=!0)},o(r){for(let v=0;v<3;v+=1){const _=o.blocks[v];x(_)}n=!1},d(r){r&&c(l),r&&c(a),o.block.d(r),o.token=null,o=null}}}async function Dt({page:e}){return{props:{user:e.params.user}}}function wt(e,t,l){let{user:a}=t,n=!1;async function o(){return await De(`/account/profilebynick?nickname=${a}`)}async function r(){if(k&&!n){const g=await Le();g.profile.id===null&&(window.location.href="/account/signin"),n=!0,await De(`/upload/${a}?by=${await g.user.id}&nickname=${g.profile.nickname}&content=${k}`),typeof window!="undefined"&&window.location.reload()}}async function v(){const g=await Le();g.profile.id===null&&(window.location.href="/account/signin");const P=await De(`/follow/${a}?by=${await g.user.id}`);return typeof window!="undefined"&&window.location.reload(),P}let _=o(),k="";function z(){k=this.value,l(1,k)}return e.$$set=g=>{"user"in g&&l(0,a=g.user)},[a,k,r,v,_,z]}class It extends Me{constructor(t){super();Be(this,t,wt,gt,qe,{user:0})}}export{It as default,Dt as load};
