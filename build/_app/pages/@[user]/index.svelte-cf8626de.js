import{S as t,i as s,s as e,D as n,e as a,c,a as l,d as r,b as o,f as u,F as i,G as f,H as $,x as d,u as m,N as p,l as h,O as g,I as v,t as k,k as b,g as x,n as E,E as w,K as I,L as y,r as D,w as V,P as N,M as j,j as U,m as F,o as P,v as T}from"../../chunks/vendor-7df9cc19.js";import{g as B}from"../../chunks/account-7912d45b.js";import{f as O}from"../../chunks/fetch-10917518.js";import"../../chunks/db-b47507ac.js";function S(t){let s,e;const p=t[1].default,h=n(p,t,t[0],null);return{c(){s=a("span"),h&&h.c(),this.h()},l(t){s=c(t,"SPAN",{class:!0});var e=l(s);h&&h.l(e),e.forEach(r),this.h()},h(){o(s,"class","badge svelte-3t1mvb")},m(t,n){u(t,s,n),h&&h.m(s,null),e=!0},p(t,[s]){h&&h.p&&(!e||1&s)&&i(h,p,t,t[0],e?$(p,t[0],s,null):f(t[0]),null)},i(t){e||(d(h,t),e=!0)},o(t){m(h,t),e=!1},d(t){t&&r(s),h&&h.d(t)}}}function A(t,s,e){let{$$slots:n={},$$scope:a}=s;return t.$$set=t=>{"$$scope"in t&&e(0,a=t.$$scope)},[a,n]}class C extends t{constructor(t){super(),s(this,t,A,S,e,{})}}function G(t,s,e){const n=t.slice();return n[7]=s[e],n[9]=e,n}function H(t){return{c:v,l:v,m:v,p:v,i:v,o:v,d:v}}function K(t){let s,e,n,a;const c=[M,L],l=[];return s=null===t[6].id?0:1,e=l[s]=c[s](t),{c(){e.c(),n=h()},l(t){e.l(t),n=h()},m(t,e){l[s].m(t,e),u(t,n,e),a=!0},p(t,s){e.p(t,s)},i(t){a||(d(e),a=!0)},o(t){m(e),a=!1},d(t){l[s].d(t),t&&r(n)}}}function L(t){let s,e,n,i,f,$,p,h,g,v,U,F,P,T,B,O,S,A,C=t[6].nickname+"",H=t[6].about+"",K=t[6].data.reverse(),L=[];for(let a=0;a<K.length;a+=1)L[a]=Y(G(t,K,a));const M=t=>m(L[t],1,1,(()=>{L[t]=null}));return{c(){s=a("div"),e=a("div"),n=a("div"),i=k(C),f=b(),$=a("div"),p=k(H),h=b(),g=a("div"),v=a("div"),U=a("input"),F=b(),P=a("button"),T=k("게시"),B=b();for(let t=0;t<L.length;t+=1)L[t].c();this.h()},l(t){s=c(t,"DIV",{class:!0});var a=l(s);e=c(a,"DIV",{class:!0});var o=l(e);n=c(o,"DIV",{class:!0});var u=l(n);i=x(u,C),u.forEach(r),f=E(o),$=c(o,"DIV",{class:!0});var d=l($);p=x(d,H),d.forEach(r),o.forEach(r),h=E(a),g=c(a,"DIV",{class:!0});var m=l(g);v=c(m,"DIV",{class:!0});var k=l(v);U=c(k,"INPUT",{type:!0,placeholder:!0,class:!0}),F=E(k),P=c(k,"BUTTON",{class:!0});var b=l(P);T=x(b,"게시"),b.forEach(r),k.forEach(r),B=E(m);for(let s=0;s<L.length;s+=1)L[s].l(m);m.forEach(r),a.forEach(r),this.h()},h(){o(n,"class","name svelte-2m1sg2"),o($,"class","about svelte-2m1sg2"),o(e,"class","user svelte-2m1sg2"),o(U,"type","text"),o(U,"placeholder",t[6].nickname+"님에게 전하고 싶은 말을 입력하세요."),o(U,"class","svelte-2m1sg2"),o(P,"class","svelte-2m1sg2"),o(v,"class","form svelte-2m1sg2"),o(g,"class","post svelte-2m1sg2"),o(s,"class","user-container svelte-2m1sg2")},m(a,c){u(a,s,c),w(s,e),w(e,n),w(n,i),w(e,f),w(e,$),w($,p),w(s,h),w(s,g),w(g,v),w(v,U),I(U,t[0]),w(v,F),w(v,P),w(P,T),w(g,B);for(let t=0;t<L.length;t+=1)L[t].m(g,null);O=!0,S||(A=[y(U,"input",t[4]),y(P,"click",t[1])],S=!0)},p(t,s){if(1&s&&U.value!==t[0]&&I(U,t[0]),4&s){let e;for(K=t[6].data.reverse(),e=0;e<K.length;e+=1){const n=G(t,K,e);L[e]?(L[e].p(n,s),d(L[e],1)):(L[e]=Y(n),L[e].c(),d(L[e],1),L[e].m(g,null))}for(D(),e=K.length;e<L.length;e+=1)M(e);V()}},i(t){if(!O){for(let t=0;t<K.length;t+=1)d(L[t]);O=!0}},o(t){L=L.filter(Boolean);for(let s=0;s<L.length;s+=1)m(L[s]);O=!1},d(t){t&&r(s),N(L,t),S=!1,j(A)}}}function M(t){let s;return{c(){s=k("User Not Found")},l(t){s=x(t,"User Not Found")},m(t,e){u(t,s,e)},p:v,i:v,o:v,d(t){t&&r(s)}}}function q(t){let s,e;return s=new C({props:{$$slots:{default:[Q]},$$scope:{ctx:t}}}),{c(){U(s.$$.fragment)},l(t){F(s.$$.fragment,t)},m(t,n){P(s,t,n),e=!0},p(t,e){const n={};1024&e&&(n.$$scope={dirty:e,ctx:t}),s.$set(n)},i(t){e||(d(s.$$.fragment,t),e=!0)},o(t){m(s.$$.fragment,t),e=!1},d(t){T(s,t)}}}function z(t){let s,e;return s=new C({props:{$$slots:{default:[R]},$$scope:{ctx:t}}}),{c(){U(s.$$.fragment)},l(t){F(s.$$.fragment,t)},m(t,n){P(s,t,n),e=!0},p(t,e){const n={};1024&e&&(n.$$scope={dirty:e,ctx:t}),s.$set(n)},i(t){e||(d(s.$$.fragment,t),e=!0)},o(t){m(s.$$.fragment,t),e=!1},d(t){T(s,t)}}}function J(t){let s,e;return s=new C({props:{$$slots:{default:[W]},$$scope:{ctx:t}}}),{c(){U(s.$$.fragment)},l(t){F(s.$$.fragment,t)},m(t,n){P(s,t,n),e=!0},p(t,e){const n={};1024&e&&(n.$$scope={dirty:e,ctx:t}),s.$set(n)},i(t){e||(d(s.$$.fragment,t),e=!0)},o(t){m(s.$$.fragment,t),e=!1},d(t){T(s,t)}}}function Q(t){let s,e,n=t[6].data.length-t[9]+"";return{c(){s=k("# "),e=k(n)},l(t){s=x(t,"# "),e=x(t,n)},m(t,n){u(t,s,n),u(t,e,n)},p:v,d(t){t&&r(s),t&&r(e)}}}function R(t){let s,e,n=t[6].data.length-t[9]+"";return{c(){s=k("# "),e=k(n)},l(t){s=x(t,"# "),e=x(t,n)},m(t,n){u(t,s,n),u(t,e,n)},p:v,d(t){t&&r(s),t&&r(e)}}}function W(t){let s,e,n=t[6].data.length-t[9]+"";return{c(){s=k("# "),e=k(n)},l(t){s=x(t,"# "),e=x(t,n)},m(t,n){u(t,s,n),u(t,e,n)},p:v,d(t){t&&r(s),t&&r(e)}}}function X(t){let s;return{c(){s=k("소유자")},l(t){s=x(t,"소유자")},m(t,e){u(t,s,e)},d(t){t&&r(s)}}}function Y(t){let s,e,n,i,f,$,p,h,g,v,I,y,D,V=t[7].nick+"",N=t[7].content+"";const j=[J,z,q],B=[];var O;~(f=(O=t)[6].data.length-O[9]==1?0:O[6].data.length-O[9]==2?1:O[6].data.length-O[9]==3?2:-1)&&($=B[f]=j[f](t));let S=t[7].nick===t[6].nickname&&function(t){let s,e;return s=new C({props:{$$slots:{default:[X]},$$scope:{ctx:t}}}),{c(){U(s.$$.fragment)},l(t){F(s.$$.fragment,t)},m(t,n){P(s,t,n),e=!0},i(t){e||(d(s.$$.fragment,t),e=!0)},o(t){m(s.$$.fragment,t),e=!1},d(t){T(s,t)}}}(t);return{c(){s=a("div"),e=a("div"),n=k(V),i=b(),$&&$.c(),p=b(),S&&S.c(),h=b(),g=a("div"),v=k(N),I=b(),this.h()},l(t){s=c(t,"DIV",{class:!0,id:!0});var a=l(s);e=c(a,"DIV",{class:!0});var o=l(e);n=x(o,V),i=E(o),$&&$.l(o),p=E(o),S&&S.l(o),o.forEach(r),h=E(a),g=c(a,"DIV",{class:!0});var u=l(g);v=x(u,N),u.forEach(r),I=E(a),a.forEach(r),this.h()},h(){o(e,"class","title svelte-2m1sg2"),o(g,"class","content svelte-2m1sg2"),o(s,"class","card svelte-2m1sg2"),o(s,"id",y="post-"+(t[6].data.length-t[9])+"-"+t[7].nick)},m(t,a){u(t,s,a),w(s,e),w(e,n),w(e,i),~f&&B[f].m(e,null),w(e,p),S&&S.m(e,null),w(s,h),w(s,g),w(g,v),w(s,I),D=!0},p(t,s){$&&$.p(t,s)},i(t){D||(d($),d(S),D=!0)},o(t){m($),m(S),D=!1},d(t){t&&r(s),~f&&B[f].d(),S&&S.d()}}}function Z(t){return{c:v,l:v,m:v,p:v,i:v,o:v,d:v}}function _(t){let s,e,n={ctx:t,current:null,token:null,hasCatch:!1,pending:Z,then:K,catch:H,value:6,blocks:[,,,]};return p(t[2],n),{c(){s=h(),n.block.c()},l(t){s=h(),n.block.l(t)},m(t,a){u(t,s,a),n.block.m(t,n.anchor=a),n.mount=()=>s.parentNode,n.anchor=s,e=!0},p(s,[e]){g(n,t=s,e)},i(t){e||(d(n.block),e=!0)},o(t){for(let s=0;s<3;s+=1){const t=n.blocks[s];m(t)}e=!1},d(t){t&&r(s),n.block.d(t),n.token=null,n=null}}}async function tt({page:t}){return{props:{user:t.params.user}}}function st(t,s,e){let{user:n}=s;let a=async function(){return await O(`/account/profilebynick?nickname=${n}`)}(),c="";return t.$$set=t=>{"user"in t&&e(3,n=t.user)},[c,async function(){const t=await B();await O(`/upload/${n}?by=${await t.user.id}&nickname=${t.profile.nickname}&content=${c}`),window.location.reload()},a,n,function(){c=this.value,e(0,c)}]}class et extends t{constructor(t){super(),s(this,t,st,_,e,{user:3})}}export{et as default,tt as load};
